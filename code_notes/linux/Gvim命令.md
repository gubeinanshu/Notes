
## 模式

其它模式==>正常模式  
按Esc键  
正常模式==>命令模式  
按: （shift 加分号）  
正常模式==>插入模式  
按i 在光标前插入  
按I 在行首插入  
按a 在光标后插入  
按A 在行末插入  
按o 在当前行之下新建行  
按O 在当前行之上新建行  
按s  删除当前字符并进入编辑模式  
按S/cc  删除光标所在行再插入  
cn  删除光标开始n行再插入  
按cw删除当前字并进入编辑模式  
按c$ 擦除从当前位置至行末的内容，并进入编辑模式  
c0  删除当前位置到当前行开始内容  
  
正常模式==>可视模式  
按v 可视模式  
按V 可视行模式  
ctrl+q 块选择  


## 光标移动

h/Space光标向右移动  
数字h 光标向右移动几位  
l/Backspace 光标向左移动  
数字l 光标向左移动几位  
j/Enter 	光标向下移动一行  
数字j 光标向下跳几行  
k/- 	光标向上移动一行  
数字k 光标向上跳几行  
w 	从光标处跳过所有空格到下一个字符串首  
数字w 从光标处跳过所有空格到下几个字符串首  
W  跳到下一个字首，长跳，如end-of-line被认为是一个字  
e 	移动到本word或者下个word的末尾  
ge 		移动到上个word的末尾  
数字e 从光标处跳过所有空格到上几个字符串尾  
E   跳到下一个字尾，长跳  
b 	从光标处跳过所有空格到上一个字符串首  
数字b 从光标处跳过所有空格到上几个字符串首  
B   跳到上一个字，长跳  
移动屏幕的一行   gj或是gk就可以  
  
ctrl-u	上翻半页  
ctrl-d	下翻半页  
Ctrl+f/PageDown 向前滚动一页  
Ctrl+b/PageUp 	 向后滚动一页  
0(零)/Home 键 移至行首（包含空白字符，如缩进的空格)  
^ 		移到行首第一个非空白字符。  
$/End  将光标移到行末  
gg 		将鼠标指针移到文件头  
G 		将鼠标指针移到文件尾  
ngg/nG/ :n   跳到第n行  
/<regexp>搜索 //  重复上一次  
n| 将光标移动到本行第n个字符  
:数字j 将光标移到第几行，并连接后一行  

( 	光标移至句首，句子是以. ? ! 标点来判断的。  
) 	光标移至句尾  
{ 	光标移至段落的开头，段落是以空白行来判断的。  
} 	光标移至段落的结尾  
%	移动到匹配的{}.().[]处  
H 	将光标移至屏幕顶第一个非空白字符  
M	光标移至屏幕中间第一个非空白字符  
L 	光标移至屏幕底第一个非空白字符  
gd	跳至当前光标所在的变量的声明处  
fx	在当前行中找x字符，找到了就跳转至  
;	重复上一个f命令，而不用重复的输入fx  
\*	查找光标所在处的单词，向下查找  
\#	查找光标所在处的单词，向上查找  


## 可视操作

删除选定的块 d  
按c  删除选定的块然后进入插入模式  
在选中的块同是插入相同的字符 I<String>ESC  
光标移至括号内，按shift+v进入行选模式，然后  
ib    选中括号中内容，不包括括号  
ab	  选中括号中内容，包括括号  
i｛   选大括号中内容，不包括大括号  
a｛  选大括号中内容，包括大括号  

## insert模式

ctrl+n(p)   自动补全  
ctrl+w 回删一个word  
ctrl+u 删除到行首(包括行首空白)  
ctrl+t 向右缩进  
ctrl+d 向左缩进  
ctrl+h 对应Backspace键  
ctrl+j 对应回车键  
ctrl+m 貌似也是回车键  


## 打开退出

:e test.txt 打开test.txt文件进行编辑,文件不存在则创建。  
e!  放弃修改，重新加载原始文件，不退出  
E  创建新文件 并命名  
:w 保存文档，但不退出vim编辑器  
w!  强制保存，不退出---  
w filename   另存为filename文件 不退出  
w! filename  强制另存为filename文件 不退出  
:q 不保存文档，退出vim编辑器。  
:q! 放弃所有修改强制退出  
:wq 保存文档然后退出vim编辑器。按ZZ(注意Z是大写的，并且不是在命令模式)或者:x效果是一样的。  
x （exit）保存文件并退出  
x! 强制保存文件并退出  
r filename  （read)读入filename指定的文件内容插入到光标位置  
:qa  全部关闭  


## 编辑操作

.   重复前一个编辑操作命令  
J....可以连接4行文字  
--剪切命令—  
剪切的命令是d，即delete，d与y命令基本类似，所以两个命令用法一样，包括含有数字的用法.  
d 	剪切选定块到缓冲区；  
dd	剪切整行  
d^	剪切至行首  
d$	剪切至行尾  
dw 剪切一个word  
dgg 剪切至档首  
dG	剪切至档尾  

## 大小写转换

guu 将当前行全部小写  
gUU 将当前行全部大写  
Vu 将选中的行(单行或多行)全部小写  
VU 将选中的行(当行或多行)全部大写  
g~~ 将当前行小写的转换成大写, 大写的转换成小写  
~   切换大小写，当前字符  


## 复制命令

使用数字可以跨过n个区域，如y3x，会拷贝光标到第三个x之间的区域，  
可以使用多重剪切板，查看状态使用:reg，使用剪切板使用”，例如复制到w  
复制的命令是y，即yank（提起） ，常用的命令如下：  
y/Y  在使用v模式选定了某一块的时候，复制选定块到缓冲区用；  
yy/Y 复制整行（nyy或者yny ，复制n行，n为数字）；  
y^	 复制当前到行头的内容；  
y$   复制当前到行尾的内容；  
yw 	 复制一个word （nyw或者ynw，复制n个word，n为数字） w可换为b e；  
ygg  复制至档首  
yG	 复制至档尾（nyG或者ynG/nygg/yngg，从当前复制到第n行，例如1yG或者y1G，复制到档尾）  
ctrl+r+w    将当前光标的word拷贝到命令行中  
ctrl+r+*    将系统剪贴板中的内容copy到命令行中  
ctrl+r+=    表达式求值  
ctrl+r+"    将buffer中的内容copy到命令行中  

## 粘贴命令

粘贴的命令式p，即put（放下）  
粘贴p，交换两个字符xp，交换两行ddp  
p  小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面  
P  大写P代表贴至游标前（上）  
整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）注： 在正则表达式中，^表示匹配字符串的开始位置，$表示匹配字符串的结束位置。  
命令前面加数字表示重复的次数，加字母表示使用的缓冲区名称。使用英文句号"."可以重复上一个命令。  
在复制粘贴时，另一组常用的命令是u（撤销操作），U（撤销某一行最近所有修改），Ctrl+R（重做），这些功能主要是vim中的，vi中略有差别  

## 删除命令
ctr + h 可以向前删除,插入模式下

d   可以用来结合任何移动命令  
dd  删除光标所在行（ndd 删除几行）  
nd+向上键 删除光标所在行及向上的n行  
nd+向下键 删除光标所在行及向下的n行  
dw  删除当前光标到下一个单词开始处的内容 删除一个字(word)  
ndw 删除光标所在位置及其后的n-1个字符  
d0  删除当前行光标所在位置前的所有字符  
d$  删除当前行光标所在位置后的所有字符  
d%  删除范围首尾字符之间的内容  
d)  删除到下一个句子结束的位置  
d}  删除当前段落的剩余内容  
du  取消删除准备  
dd...会删除4行文字  
Delete键 删除  
x/dl  删除当前字符  
X/dh  删除前一个字符  
nx/ndl  删除光标所在位置及其后的n-1个字符  
nX/ndh  删除光标所在位置及其前的n-1个字符  
d^/d0   删除到行首  
d$/D/C	删除到行末  nd$/nD/nC 删除到n行末  
dgg     删除到文件首  
dG  	删除文件尾  
D/C删除到行尾可以使用数字 x 要删除的字符个数从鼠标指针向后算  
ctx删除到下一个字符跨过的字符，删除并进入插入模式，不包括x字符  
cfx删除当前字符到下一个字符处的所有字符，并进入插入模式，包括x字符，  
dtx删除motion跨过的字符，删除但不进入插入模式，不包括x字符  
dfx删除当前字符到下一个字符处的所有字符，包括x字符  
d{motion}删除motion跨过的字符，删除但不进入插入模式  
c{motion} 删除motion跨过的字符，删除并进入插入模式  

## 自动排版

在粘贴了一些代码之后，vim变得比较乱，只要执行gg=G就能搞定  

## 查找替换

%  符号匹配功能 在比编辑时输入%( 系统会知道匹配相应的 ）  
:s/s1/s2 （将下一个s1替换为s2）  
:s/regexp/replacement/g 替换当前行  
:%s/regrep/replacement/g    全文替换  
:%s/regrep/replacement   全文替换 匹配每行第一个  
:%s/regexp/replacement/gc   全文替换, 并在每次替换之前进行提示  
num1,num2 s/parttrtn1/parttrtn2/g 将行num1到num2的字符串parttrtn1替换为parttrtn2  
  
:%s/str/\r/g 替换并换行  
/  查找匹配字符串功能。用“/字符串”的命令模式，系统会自动查找并突出显示，然后转到找到的第一个字符串  
		搜索下一处为n，搜索上一处为N  
?  也可以使用“?字符串”查找特定字符串 与“/”想相似，但它是向前查找字符串  
光标向后查找关键字 #或者g#  
光标向前查找关键字 \*或者g\*  
当前行查找字符 fx,  tx,  
rx  将当前光标字符替换为x  
R   替换光标所到之处的字符知道按esc为止  
制定书签 mx, 但是看不到书签标记，而且只能用小写字母  
移动到某标签处 \`x，1旁边的键  
移动到上次编辑文件的位置 \`.  
  
PS：.代表一个任意字符 *代表一个或多个字符的重复  
"\c" 忽略大小写  
 "\C" 大小写敏感  
:g/xxx     列出包含xxx的所有行  
:history    列出所有的历史记录  
:his c     列出所有的行命令记录  
:his s     列出所有的搜索记录  
q:(/)     显示命令行的历史窗口  

## 操作

ctrl+g         查看共有几行  
\>> 				缩进所有选择的代码  
<</== 			反缩进所有选择的代码  
选中一段代码，< ”, 指的是在normal模式下使用shift+v 选中代码然后再“<”或者“>”  
还有一种方法就是使用列模式, 在normal模式下使用ctrl+v选中要插入tab的位置, 然后使用“I"进入插入模式, 输入一个或多个tab即可.  
如果是c语言的话, 一个最nb的功能就是自动排序, "="命令, shift+v选择全文件, 然后"="  
要想单行自动对齐, 请使用"==".  
vim里自动缩进一段把光标移动到某个花括号，按 =% 缩进整段。  
把整段不按格式往外缩一个tab>%缩两个>>%往里缩<%如果你想从#ifdef缩到#endif也可如此  
:g/xxx      列出所有含 xxx 的行; 适合想到含 xxx 的某行, 但不知道行号,/xxx 又太慢  
q: q/ q?编辑长命令时比较舒服, 执行按回车, 按 CTRL-C 再次进入  
: / ?原来的输入状态再按一次关闭.  
再次选中 上次选中的内容, 用 gv  
在选中的区域首尾跳动, 用大写 O  
: ↑  重复上次的命令  
重复执行上一个作用使用.  
:set nuw=10  每行的缩进距离  只能取值：1,2,3,4,5,6,7,8,9,10  
:filetype indent off 关闭自动缩进  
:set nu 设置行号  
:set nu!  取消设置行号  
:set number 设置行号  
: hi LineNr guifg=Red设置行号的颜色   
:X 对文件进行加密，设置密码   
:#  在命令行的位置输出： 当前光标所在的行号和行内容  
:tabnew E:/avaj/com/E后按tab键  自动补全文件名Example11.java  
在编写代码的时候可以使用]p粘贴，这样可以自动进行代码缩进  
Ctrl+o 重复到更远的返回  
Ctrl+t 重复到更远的返回  

更改后alt+a alt+x  
数字加减, CTRL-A, CTRL-X lunix中  

## 多标签编辑

:tabedit file   在新标签中打开文件file  
:tab split file 在新标签中打开文件file  
:tabp       切换到前一个标签  
:tabn       切换到后一个标签  
:tabc       闭当前标签  
:tabo       关闭其他标签  
gt          到下一个tab  
gT          到上一个tab  
ngt         跳到第n个tab  
gvim --remote-tab-silent + 目录（*.cpp） 打开文件夹下所有文件  


## 窗口操作

分隔一个窗口:split或者:vsplit  
创建一个窗口:new或者:vnew  
在新窗口打开文件:sf/sp {filename}  
关闭当前窗口:close  
仅保留当前窗口:only  
CTRL-W=     所有窗口等高, 适合 diff 时自己移动了 window 大小  
CTRL-Wo     等效于 :only  
CTRL-Wc     等效于 :close!  
到左边窗口 ctrl + w, h  
到右边窗口 ctrl + w, l  
到上边窗口 ctrl + w, k  
到下边窗口 ctrl + w, j  
到顶部窗口 ctrl + w, t  
到底部窗口 ctrl + w, b  

## 文件操作

:Exp 浏览文件夹  
:Sex 分割窗口浏览文件夹  
:args 查看当前打开的所有文件  
:ls 显示缓冲区  
:cd 显示当前文件夹  


## 多文件编辑

vim file1.. 同时打开多个文件  
:next     切换到下个文件  
:prev     切换到前个文件  
:next！   不保存当前编辑文件并切换到下个文件  
:prev！   不保存当前编辑文件并切换到上个文件  
:wnext    保存当前编辑文件并切换到下个文件  
:wprev    保存当前编辑文件并切换到上个文件  
:first      定位首文件  
:last		   定位尾文件  
ctrl+^     快速在最近打开的两个文件间切换  
:all         打开所有的窗口  
:vertical all   打开所有的窗口, 垂直打开  
:qall        对所有窗口执行：q操作  
：qall!      对所有窗口执行：q!操作  
:wall        对所有窗口执行：w操作  
:wqall       对所有窗口执行：wq操作  
---跳到声明---  
[[ 向前跳到顶格第一个{  
[] 向前跳到顶格第一个}  
][ 向后跳到顶格的第一个{  
]] 向后跳到顶格的第一个}  
[{ 跳到本代码块的开头  
]} 跳到本代码块的结尾  

## 不常用

:colorscheme torte 设置背景颜色  
:set guifont=Courier_New  
:h10:cANSI 设置字体属性  
:colo torte  隐藏菜单栏和工具栏 再设置背景颜色  
:sy on 语法加亮  
:sy clear 取消语法加亮  
:syntax enable 加亮显示  
:syntax clear 清除加亮显示  
:help iccf 查看说明  
:help Enter键 查看在线帮助  
:help F1键 查看在线帮助  
:help version7 查看版本信息  

## VIM启动项

-o[n] 以水平分屏的方式打开多个文件  
-O[n] 以垂直分屏的方式打开多个文件  
  
## 如何在vim中编译程序  
  
在vim中可以完成make,而且可以将编译的结果也显示在vim里，先执行 :copen 命令，将结果输出的窗口打开，然后执行 :make  
编译后的结果就显示在了copen打开的小窗口里了，而且用鼠标双击错误信息，就会跳转到发生错误的行。  

## buffer操作

buffer状态  
\- （非活动的缓冲区）  
a （当前被激活缓冲区）  
h （隐藏的缓冲区）  
% （当前的缓冲区）  
\# （交换缓冲区）  
= （只读缓冲区）  
\+ （已经更改的缓冲区）  

## 执行shell命令

在命令模式下输入":sh"，可以运行相当于在字符模式下，到输入结束想回到VIM编辑器中用exit，ctrl+D返回VIM编辑器  
可以"!command"，运行结束后自动回到VIM编辑器中  
用“Ctrl+Z“回到shell，用fg返回编辑  
:!make -> 直接在当前目录下运行make指令  

## 挂起操作

挂起Vim ctrl + z 或者 :suspend  
查看任务 在shell中输入 jobs  
恢复任务 fg [job number]（将后台程序放到前台）或者 bg [job number]（将前台程序放到后台）  
执行shell命令 :!command  
开启shell命令 :shell，退出该shell exit  
保存vim状态 :mksession name.vim  
恢复vim状态 :source name.vim  
启动vim时恢复状态 vim -S name.vim  


## 宏操作

开始记录宏操作q[a-z]，按q结束，保存操作到寄存器[a-z]中  
@[a-z]执行寄存器[a-z]中的操作  
@@执行最近一次记录的宏操作  
 :qa!  录制以a为宏名的宏  
